 <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wireless project</title>
    <link rel="stylesheet" href="projectcss.css">
</head>
<body>
    <header class="main-header">
        <div class="container">
            <div class="logo">
                <h1>CalcWee</h1>
            </div>
            <nav class="nav-links">
                <a href="#" onclick="openTab(event, 'basic')">Basic</a>
                <a href="#" onclick="openTab(event, 'advanced')">Advanced</a>
                <a href="#" onclick="openTab(event, 'power')">Power</a>
                <a href="#" onclick="openTab(event, 'throughput')">Throughput</a>
                <a href="#" onclick="openTab(event, 'design')">Design</a>
                <a href="#" onclick="openTab(event, 'support')">Support</a>
            </nav>
            <div class="cta-buttons">
                <button class="btn register">Register for free</button>
            </div>
        </div>
        <div class="header-content">
            <h2>Online Calculator for Wireless and Mobile Networks</h2>
            <p>easy and fast way to find all the needed numbers and Calculations.</p>
            <div class="buttons">
                <button class="btn primary">Basic reads</button>
                <button class="btn secondary">Watch lecture</button>
            </div>
        </div>
    </header>
    <div id="basic" class="tab-content">
    <section class="calculator-section" id="basic">
        <h2>Basic Calculations</h2>
        <div class="calc-container">
            <div class="sampler calc-item">
                <h3>sampling frequency calculator</h3>
                <label for="bandwidth">please enter the Bandwidth</label>
                <input type="text"  id="bandwidth">
                <label for="unit1">select unit</label>
                <select name="units" id="unit1">
                    <option value="Hz">HZ</option>
                    <option value="KHz">KHz</option>
                    <option value="MHz">MHz</option>
                </select>
                
                
                <button onclick="calculate_sampler()">Calculate</button>
                <div class="sample_result calc-result" id="sample_result">
                    
                </div>
            </div>
            <div class="quantizer calc-item">
                    <h3>quantizer level calculator</h3>
                    <label for="num_of_bits">insert Number of bits</label>
                    <input type="text"  id="num_of_bits">
                    <button onclick="calculate_quantizer()">Calculate</button>
                    <div class="quantizer_result calc-result" id="quantizer_result">
                        
                    </div>
                
            </div>
            <div class="source_encoder calc-item">
                    <h3>bit rate at output of source encoder calculator</h3>
                    <label for="compression_rate">insert encoder compression rate: </label>
                    <input type="text"  id="compression_rate">
                    <button onclick="calculate_Sencoder_result()">Calculate</button>
                    <div class="Sencoder_result calc-result" id="Sencoder_result">
                        
                    </div>
                
            </div>
            <div class="channel_encoder calc-item">
                    <h3>bit rate at output of channel encoder calculator</h3>
                    <label for="Cencoder_rate">insert Channel encoder rate: </label>
                    <input type="text"  id="Cencoder_rate">
                    <button onclick="calculate_Cencoder_result()">Calculate</button>
                    <div class="Cencoder_result calc-result" id="Cencoder_result">
                        
                    </div>
                
            </div>
            <div class="interleaver calc-item">
                <h3>Interleaver</h3>
                <p>the bit rate of the interleaver is equal to bit rate of channel encoder output</p>
                <button onclick="calculate_Cencoder_result()">Calculate</button>
                    <div class="Cencoder_result calc-result" id="Cencoder_result">
                        
                    </div>
            </div>
        </div>
    </section>
    </div>

    <div id="advanced" class="tab-content ">
    <section class="calculator-section" id="advanced">
        <h2>Advanced Calculations</h2>
        <div class="calc-container">
            <div class="resource_element calc-item">
                    <h3>resource element number of bits calculator</h3>
                    <label for="QAM">enter Number of bits</label>
                    <input type="text"  id="QAM">
                    <button onclick="calculate_resource_element()">Calculate</button>
                    <div class="resource_result calc-result" id="resource_result">
                        
                    </div>
                
            </div>

            <div class="OFDM_symbol calc-item">
                    <h3>OFDM symbol number of bits calculator</h3>
                    <label for="OFDM_bandwidth">enter OFDM bandwidth</label>
                    <input type="number"  id="OFDM_bandwidth" min="0">
                    <label for="2">select unit</label>
                    <select name="unit" id="2">
                        <option value="Hz">HZ</option>
                        <option value="KHz">KHz</option>
                        <option value="MHz">MHz</option>
                    </select>
                    <label for="subCarrier">enter subCarrier spacing</label>
                    <input type="number"  id="subCarrier" min="0">
                    <button onclick="calculate_OFDM_symbol()">Calculate</button>
                    <div class="OFDM_symbol_result calc-result" id="OFDM_symbol_result">
                        
                    </div>
                
            </div>
            <div class="OFDM_block calc-item">
                    <h3>OFDM resource block number of bits calculator</h3>
                    <label for="num_of_symbol"> enter Number of OFDM symbols</label>
                    <input type="text"  id="num_of_symbol">
                    <button onclick="calculate_OFDM_resource_block()">Calculate</button>
                    <div class="OFDM_block_result calc-result" id="OFDM_block_result">
                        
                    </div>
                
            </div>
            <div class="Max_trans_rate calc-item">
                    <h3>user Maximum transmission rate calculator</h3>
                    <label for="num_of_blocks">enter Number of resource block</label>
                    <input type="text"  id="num_of_blocks">

                    <label for="block_duration">enter Duration of resource block</label>
                    <input type="text"  id="block_duration">

                    <button onclick="calculate_max_trans_rate()">Calculate</button>
                    <div class="Max_trans_rate_result calc-result" id="Max_trans_rate_result">
                        
                    </div>
                
            </div>

        

        </div>
    </section>
    </div>



    <div id="power" class="tab-content ">
        <section class="calculator-section">
            <h2>Power calculation</h2>
            <p>please enter the following values:</p>
            <div class="calc-container">
            
            <div class="calc-item">
            <label for="lp">enter the path loss</label>
            <input type="text" id="lp">
            <label for="unit1">select unit</label> <!--power units-->
                <select class="unit_selector" name="units" id="unit1">
                    <option value="nu">no unit</option>
                    <option value="dB">dB</option>
                    <option value="dBm">dBm</option>
                </select>
            </div>

            <div class="calc-item">
            <label for="freq">enter Frequency</label>
            <input type="text" id="freq">
            <label for="1">select unit</label>
                <select name="units" id="1">
                    <option value="Hz">HZ</option>
                    <option value="KHz">KHz</option>
                    <option value="MHz">MHz</option>
                </select>
            </div>

            <div class="calc-item">
            <label for="gt">enter transmitted antenna gain</label>
            <input type="text" id="gt">
            <label for="unit2">select unit</label> <!--power units-->
                <select class="unit_selector" name="units" id="unit2">
                    <option value="nu">no unit</option>
                    <option value="dB">dB</option>
                    <option value="dBm">dBm</option>
                </select>
            </div>

            <div class="calc-item">
            <label for="gr">enter recived antenna gain</label>
            <input type="text" id="gr">
            <label for="unit3">select unit</label> <!--power units-->
                <select class="unit_selector" name="units" id="unit3">
                    <option value="nu">no unit</option>
                    <option value="dB">dB</option>
                    <option value="dBm">dBm</option>
                </select>
            </div>

            <div class="calc-item">
            <label for="r">enter data rate</label>
            <input type="text" id="r">
            </div>

            <div class="calc-item">
            <label for="lf">enter antenna feed line loss</label>
            <input type="text" id="lf">
            <label for="unit4">select unit</label> <!--power units-->
                <select class="unit_selector" name="units" id="unit4">
                    <option value="nu">no unit</option>
                    <option value="dB">dB</option>
                    <option value="dBm">dBm</option>
                </select>
            </div>

            <div class="calc-item">
            <label for="lo">enter other losses</label>
            <input type="text" id="lo">
            <label for="unit5">select unit</label> <!--power units-->
                <select class="unit_selector" name="units" id="unit5">
                    <option value="nu">no unit</option>
                    <option value="dB">dB</option>
                    <option value="dBm">dBm</option>
                </select>
            </div>

            <div class="calc-item">
            <label for="lf_margin">enter the fade margin</label>
            <input type="text" id="lf_margin">
            <label for="unit6">select unit</label> <!--power units-->
                <select class="unit_selector" name="units" id="unit6">
                    <option value="nu">no unit</option>
                    <option value="dB">dB</option>
                    <option value="dBm">dBm</option>
                </select>
            </div>

            <div class="calc-item">
            <label for="ar">enter the reciver amplifier gain</label>
            <input type="text" id="ar">
            <label for="unit7">select unit</label> <!--power units-->
                <select class="unit_selector" name="units" id="unit7">
                    <option value="nu">no unit</option>
                    <option value="dB">dB</option>
                    <option value="dBm">dBm</option>
                </select>
            </div>

            <div class="calc-item">
            <label for="ns_total">enter the noise figure total</label>
            <input type="text" id="ns_total">
            <label for="unit8">select unit</label> <!--power units-->
                <select class="unit_selector" name="units" id="unit8">
                    <option value="nu">no unit</option>
                    <option value="dB">dB</option>
                    <option value="dBm">dBm</option>
                </select>
            </div>

            <div class="calc-item">
            <label for="ns_tem">enter the noise temperature</label>
            <input type="text" id="ns_tem">
            <label for="temp">select unit</label> <!--power units-->
                <select class="unit_selector" name="units" id="temp">
                    <option value="k">Kelvin</option>
                    <option value="c">celcuis</option>
                    <option value="f">Fahrenheit</option>
                </select>
            </div>

            <div class="calc-item">
            <label for="M">enter the link margin</label>
            <input type="text" id="M">
            <label for="unit9">select unit</label> <!--power units-->
                <select class="unit_selector" name="units" id="unit9">
                    <option value="nu">no unit</option>
                    <option value="dB">dB</option>
                    <option value="dBm">dBm</option>
                </select>
            </div>

            <div class="calc-item">
            <label for="m_type">please select the modulation type </label>
                <div>
                    <input id="8_PSK" type="radio" name="OS" value="8_PSK">
                    <label for="8_PSK">8_PSK</label>
                </div>
                <div>
                    <input id="BPSK/QPSK" type="radio" name="OS" value="BPSK/QPSK">
                    <label for="BPSK/QPSK">BPSK</label>
                </div>

                <div>
                    <input id="16_PSK" type="radio" name="OS" value="16_PSK">
                    <label for="16_PSK">16_PSK</label>
                </div>
            </div>

            <div class="calc-item">
            <label for="BER">enter the maximum bit error rate</label>
            <input type="text" id="BER">
            </div>

            <div class="calc-item">
            <button onclick="calculate_receiver_power()"> Calculate power</button>
            </div>
            <div class="power_result calc-result" id="power_result">
            </div>
        </section>        
    </div>


    

    <script>
        let sampling_freq = 0; // Define sampling_freq in a broader scope
        let output_rate = 0;
        let OFDM_num_bit_symbol=0;
        let num_of_bits_block=0;
        function calculate_sampler() {
            const bandwidthValue = parseFloat(document.getElementById('bandwidth').value);
            const unitValue = document.getElementById('unit1').value;
            if (!isNaN(bandwidthValue)) {
                sampling_freq = 2 * bandwidthValue; // Assign value to the broader scope variable
                document.getElementById('sample_result').textContent = `the sampler frequency fs=: ${sampling_freq} ${unitValue}`;
            } else {
                document.getElementById('sample_result').textContent = 'Please enter a valid number and select a unit';
            }
        }

        function calculate_quantizer() {
            const quant_level = parseFloat(document.getElementById('num_of_bits').value);
            if (!isNaN(quant_level)) {
                const result = Math.pow(2, quant_level);
                document.getElementById('quantizer_result').textContent = `quantizer level= : ${result}`;
            } else {
                document.getElementById('quantizer_result').textContent = 'Please enter a valid number';
            }
        }

        function calculate_Sencoder_result() {
            const comp_rate = parseFloat(document.getElementById('compression_rate').value);
            if (!isNaN(comp_rate)) {
                const num_of_bits = parseFloat(document.getElementById('num_of_bits').value); // Fetch num_of_bits here
                const input_rate = sampling_freq * num_of_bits; // Use sampling_freq from broader scope
                output_rate = input_rate * comp_rate;
                document.getElementById('Sencoder_result').textContent = `bit rate at output of source encoder: ${output_rate}`;
            } else {
                document.getElementById('Sencoder_result').textContent = 'Please enter a valid number';
            }
        }
        function calculate_Cencoder_result() {
            const Cencoder_rate = parseFloat(document.getElementById('Cencoder_rate').value);
            if (!isNaN(Cencoder_rate)) {
                outputC_bit_rate = output_rate / Cencoder_rate;
                document.getElementById('Cencoder_result').textContent = `bit rate at output of channel encoder: ${outputC_bit_rate}`;
            } else {
                document.getElementById('Cencoder_result').textContent = 'Please enter a valid number';
            }
        }

        function calculate_resource_element() {
            const QAM = parseFloat(document.getElementById('QAM').value);
            if (Number.isInteger(QAM)) {
                const num_of_bits= Math.log2(QAM);
                let res= Math.round(num_of_bits);
                document.getElementById('resource_result').textContent = `number of bits per resource element: ${res}`;
            } else {
                document.getElementById('resource_result').textContent = 'Please enter a valid number';
            }
        }

        function calculate_OFDM_symbol() {
            const bwInput = document.getElementById('OFDM_bandwidth');
            const subCarrierInput = document.getElementById('subCarrier');
            const unitValue = document.getElementById('2').value;

            // Trim whitespace from input values and parse as floats
            const bw = parseFloat(bwInput.value.trim());
            const subCarrier_spacing = parseFloat(subCarrierInput.value.trim());

            // Check if input values are valid numbers and unitValue is not empty
            if (!isNaN(bw) && !isNaN(subCarrier_spacing)) {
                OFDM_num_bit_symbol = 10 * bw / subCarrier_spacing;
                document.getElementById('OFDM_symbol_result').textContent = `number of bits per OFDM symbol: ${OFDM_num_bit_symbol} ${unitValue} bit/OFDM symbol`;
            } else {
                document.getElementById('OFDM_symbol_result').textContent = 'Please enter a valid number';
            }
        }
        function calculate_OFDM_resource_block() {
            const num_of_symbol = parseFloat(document.getElementById('num_of_symbol').value);
            if (Number.isInteger(num_of_symbol)) {
                num_of_bits_block =num_of_symbol*OFDM_num_bit_symbol;
                document.getElementById('OFDM_block_result').textContent = `number of bits per OFDM resource block: ${num_of_bits_block} bit/resource block`;
            } else {
                document.getElementById('OFDM_block_result').textContent = 'Please enter a valid number';
            }
        }


        function calculate_max_trans_rate() {
            const num_of_blocks = parseFloat(document.getElementById('num_of_blocks').value);
            const block_duration = parseFloat(document.getElementById('block_duration').value);
            if (Number.isInteger(num_of_blocks)) {
                const max_trans_rate =num_of_blocks*num_of_bits_block/block_duration;
                document.getElementById('Max_trans_rate_result').textContent = `user maximum transmission rate: ${max_trans_rate} bit/second`;
            } else {
                document.getElementById('Max_trans_rate_result').textContent = 'Please enter a valid number';
            }
        }
        function convertfreq(value, unit) {
            switch (unit) {
                case 'Hz':
                    return value; // Already in Hz
                case 'KHz':
                    return value * 1000; // Convert KHz to Hz
                case 'MHz':
                    return value * 1000000; // Convert MHz to Hz
                default:
                    return value; // Default case (should not happen if the units are controlled)
            }
        }

        function converttemp(value, unit) {
            switch (unit) {
                case 'c':
                    value = value + 273.15;
                    return value ; 
                case 'f':
                    value= (value - 273.15) * 9/5 + 32;
                    return value * 1000; 
                default:
                    return value; // Default case (should not happen if the units are controlled)
            } 
        }  
        function convertdB(value, unit) {
            switch (unit) {
                case 'nu':
                    value = 10 * Math.log10(value);
                    return value ; 
                case 'dBm':
                    value= value - 30;
                default:
                    return value; // Default case (should not happen if the units are controlled)
        }
    }
        function openTab(evt, tabName) {
            // Hide all elements with class="tab-content" by setting display to none
            var tabcontent = document.getElementsByClassName("tab-content");
            for (var i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            
            // Remove the class "active" from all elements with class="tab-button"
            var tabbuttons = document.getElementsByClassName("tab-button");
            for (var i = 0; i < tabbuttons.length; i++) {
                tabbuttons[i].className = tabbuttons[i].className.replace(" active", "");
            }

            // Show the current tab, and add an "active" class to the button that opened the tab
            document.getElementById(tabName).style.display = "block";
            evt.currentTarget.className += " active";
        }

    // Optional: Automatically open the first tab if needed
        document.addEventListener("DOMContentLoaded", function() {
            document.getElementById("defaultOpen").click(); // Add an ID "defaultOpen" to the default tab link
        });

        const modulationSchemes = {
    '8_PSK': [
        { EbNo: 0, BER: 0.25 },
        { EbNo: 1, BER: 0.23 },
        { EbNo: 2, BER: 0.1 },
        { EbNo: 3, BER: 0.08 },
        { EbNo: 4, BER: 0.06 },
        { EbNo: 5, BER: 0.04 },
        { EbNo: 6, BER: 0.02 },
        { EbNo: 7, BER: 0.01 },
        { EbNo: 8, BER: 0.008 },
        { EbNo: 9, BER: 0.005 },
        { EbNo: 10, BER: 0.001 },
        { EbNo: 11, BER: 0.0003 },
        { EbNo: 12, BER: 0.00008 },
        { EbNo: 13, BER: 0.00001 },
        { EbNo: 14, BER: 0.000001 },
        { EbNo: 15, BER: 0.00000005 }
    ],
    '16_PSK': [
        { EbNo: 0, BER: 0.45 },
        { EbNo: 1, BER: 0.4 },
        { EbNo: 2, BER: 0.35 },
        { EbNo: 3, BER: 0.3 },
        { EbNo: 4, BER: 0.25 },
        { EbNo: 5, BER: 0.2 },
        { EbNo: 6, BER: 0.15 },
        { EbNo: 7, BER: 0.1 },
        { EbNo: 8, BER: 0.07 },
        { EbNo: 9, BER: 0.05 },
        { EbNo: 10, BER: 0.03 },
        { EbNo: 11, BER: 0.01 },
        { EbNo: 12, BER: 0.009 },
        { EbNo: 13, BER: 0.005 },
        { EbNo: 14, BER: 0.001 },
        { EbNo: 15, BER: 0.0003 },
        { EbNo: 16, BER: 0.0001 },
        { EbNo: 17, BER: 0.00004 },
        { EbNo: 18, BER: 0.000003 }
    ],
    'BPSK/QPSK': [
        { EbNo: 0, BER: 0.1 },
        { EbNo: 1, BER: 0.08 },
        { EbNo: 2, BER: 0.06 },
        { EbNo: 3, BER: 0.04 },
        { EbNo: 4, BER: 0.01 },
        { EbNo: 5, BER: 0.008 },
        { EbNo: 6, BER: 0.004 },
        { EbNo: 7, BER: 0.001 },
        { EbNo: 8, BER: 0.0002 },
        { EbNo: 9, BER: 0.00003 },
        { EbNo: 10, BER: 0.000003 },
        { EbNo: 11, BER: 0.0000004 },
        { EbNo: 12, BER: 0.00000001 }
    ]
};


        function calculate_receiver_power() {
            const getInputValue = (id) => parseFloat(document.getElementById(id).value);
            const getUnitValue = (id) => document.getElementById(id).value;

            const lp = getInputValue('lp');
            const lpUnit = getUnitValue('unit1');
            const freq = getInputValue('freq');
            const freqUnit = getUnitValue('1');
            const gt = getInputValue('gt');
            const gtUnit = getUnitValue('unit2');
            const gr = getInputValue('gr');
            const grUnit = getUnitValue('unit3');
            const R = getInputValue('r');
            const lf = getInputValue('lf');
            const lfUnit = getUnitValue('unit4');
            const lo = getInputValue('lo');
            const loUnit = getUnitValue('unit5');
            const lf_margin = getInputValue('lf_margin');
            const lf_marginUnit = getUnitValue('unit6');
            const ar = getInputValue('ar');
            const arUnit = getUnitValue('unit7');
            const noisef = getInputValue('ns_total');
            const noisefUnit = getUnitValue('unit8');
            const margin = getInputValue('M');
            const marginUnit = getUnitValue('unit9');
            const userBER = getInputValue('BER');
            const modulationType = document.querySelector('input[name="OS"]:checked').value;

            if (!isNaN(lp) && !isNaN(freq) && !isNaN(gt) && !isNaN(gr) && !isNaN(R) && !isNaN(lf) && !isNaN(lo) && !isNaN(lf_margin) && !isNaN(ar) && !isNaN(noisef) && !isNaN(margin)) {
                const convertedMargin = convertdB(margin, marginUnit);
                const convertedNoisef = convertdB(noisef, noisefUnit);

                const converted_lf = convertdB(lf, lfUnit);
                const converted_lo= convertdB(lo, loUnit);
                const converted_lp = convertdB(lp, lpUnit);
                const converted_gt= convertdB(gt, grUnit);
                const converted_gr = convertdB(gr, grUnit);
                const converted_lf_margin= convertdB(lf_margin, lf_marginUnit);
                const converted_ar = convertdB(ar, arUnit);
                

                const modulationData = modulationSchemes[modulationType];
                const foundData = modulationData.find(item => item.BER === userBER);

                if (foundData) {
                    const EbNo = foundData.EbNo;
                    const Pr = convertedMargin - 228.6 + convertedNoisef + R + EbNo;
                    const Pt= Pr + converted_lp + converted_lf + converted_lo + converted_lf_margin -converted_gt - converted_gr - converted_ar;
                    document.getElementById('power_result').textContent = `power at reciver end: ${Pr} dB watt and power at transmitter end: ${Pt} dB watt`;
                } else {
                    document.getElementById('power_result').textContent = 'BER value not found in the selected modulation scheme';
                }
            } else {
                document.getElementById('power_result').textContent = 'Please enter a valid number';
            }
        }
                            




    </script>
</body>
</html>